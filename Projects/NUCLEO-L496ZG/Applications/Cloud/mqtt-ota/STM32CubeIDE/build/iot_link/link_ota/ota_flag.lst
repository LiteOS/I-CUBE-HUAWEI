ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ota_flag.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ota_flag_imgupdate,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	ota_flag_imgupdate:
  27              	.LVL0:
  28              	.LFB3:
  29              		.file 1 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota/ota_f
   1:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** /*----------------------------------------------------------------------------
   2:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Copyright (c) <2018>, <Huawei Technologies Co., Ltd>
   3:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * All rights reserved.
   4:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * are permitted provided that the following conditions are met:
   6:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * conditions and the following disclaimer.
   8:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * provided with the distribution.
  11:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * to endorse or promote products derived from this software without specific prior written
  13:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * permission.
  14:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *---------------------------------------------------------------------------*/
  26:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** /*----------------------------------------------------------------------------
  27:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Notice of Export Control Law
  28:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * ===============================================
  29:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 2


  30:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * applicable export control laws and regulations.
  33:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *---------------------------------------------------------------------------*/
  34:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** /**
  35:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *  DATE                AUTHOR      INSTRUCTION
  36:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *  2020-05-08 20:54  zhangqianfu  The first version
  37:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *
  38:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  */
  39:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  40:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** #include <string.h>
  41:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** #include <crc.h>
  42:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** #include <link_log.h>
  43:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** #include <ota_flag.h>
  44:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  45:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** ///< attention that when we write the flag, it maybe powered down when erase or write
  46:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** ///< so we use need a backup imgï¼Œsupposed that the flash has no problem when read or write except
  47:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** /**
  48:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * ACTION:
  49:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * 1,WHEN WRITE, CHECK THE DATA IN THE BACKUP IS WELL PRESERVED OR NOT;
  50:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *   IF WELL PRESERVED, THEN WRITE DATA TO MASTER FIRST, ELSE WRITE TO THE BACKUP ONE FIRST;
  51:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *   AND THIS ACTION MAKE ANYTIME WE COULD FIND A GOOD IMG, MASTER ONE OR BACKUP ONE;AND WE COULD
  52:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *   NOT AVOID THE CASE THAT WE LOSE THE DATA WHEN WRITTING; MAYBE NEXT TIME WE WILL DO THE LOG FIL
  53:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * 2,WHEN READ, READ THE MASTER ONE FIRST, IF MASTER IS OK THEN SYN IT TO THE BACKUP ONE; IF MASTER
  54:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *   TO READ FROM THE BACKUP ONE, AND SYNC IT TO THE MASTER
  55:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *
  56:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Then we could think some cases when unexpected power down comes: supposed the img we write will 
  57:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * a, if comes at the time we write the master, then we are sure that the backup img is well preser
  58:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * b, if comes at the time we write the backup, then we are sure that the backup img is well preser
  59:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *
  60:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * Anyway, we could not backup the data if both the img is destroyed! So when you read the flag fai
  61:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * you should do the flag initialize first!
  62:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  *
  63:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****  * */
  64:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  65:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** static int ota_flag_imgupdate(en_ota_type_t  otatype,en_ota_img_type_t img, ota_flag_t *flag)
  66:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** {
  30              		.loc 1 66 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 66 1 is_stmt 0 view .LVU1
  35 0000 70B5     		push	{r4, r5, r6, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 4, -16
  39              		.cfi_offset 5, -12
  40              		.cfi_offset 6, -8
  41              		.cfi_offset 14, -4
  42 0002 82B0     		sub	sp, sp, #8
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 24
  45              		.loc 1 66 1 view .LVU2
  46 0004 1646     		mov	r6, r2
  47 0006 0446     		mov	r4, r0
  48 0008 0D46     		mov	r5, r1
  67:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     int ret;
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 3


  49              		.loc 1 67 5 is_stmt 1 view .LVU3
  68:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_img_erase(otatype,img);
  50              		.loc 1 68 5 view .LVU4
  51              		.loc 1 68 11 is_stmt 0 view .LVU5
  52 000a FFF7FEFF 		bl	ota_img_erase
  53              	.LVL1:
  69:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  54              		.loc 1 69 5 is_stmt 1 view .LVU6
  55              		.loc 1 69 7 is_stmt 0 view .LVU7
  56 000e 08B1     		cbz	r0, .L5
  57              	.L2:
  58              	.L1:
  70:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
  71:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_UPDATE;
  72:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
  73:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_img_write(otatype,img,0,flag,sizeof(ota_flag_t));
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  75:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
  76:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_UPDATE;
  77:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_img_flush(otatype,img);
  79:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  80:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
  81:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_UPDATE;
  82:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
  83:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** EXIT_UPDATE:
  84:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     return ret;
  85:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** }
  59              		.loc 1 85 1 view .LVU8
  60 0010 02B0     		add	sp, sp, #8
  61              	.LCFI2:
  62              		.cfi_remember_state
  63              		.cfi_def_cfa_offset 16
  64              		@ sp needed
  65 0012 70BD     		pop	{r4, r5, r6, pc}
  66              	.LVL2:
  67              	.L5:
  68              	.LCFI3:
  69              		.cfi_restore_state
  73:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  70              		.loc 1 73 5 is_stmt 1 view .LVU9
  73:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  71              		.loc 1 73 11 is_stmt 0 view .LVU10
  72 0014 B421     		movs	r1, #180
  73 0016 0246     		mov	r2, r0
  74 0018 0091     		str	r1, [sp]
  75 001a 3346     		mov	r3, r6
  76 001c 2946     		mov	r1, r5
  77 001e 2046     		mov	r0, r4
  78              	.LVL3:
  73:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  79              		.loc 1 73 11 view .LVU11
  80 0020 FFF7FEFF 		bl	ota_img_write
  81              	.LVL4:
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
  82              		.loc 1 74 5 is_stmt 1 view .LVU12
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 4


  83              		.loc 1 74 7 is_stmt 0 view .LVU13
  84 0024 0028     		cmp	r0, #0
  85 0026 F3D1     		bne	.L1
  86              	.LVL5:
  87              	.LBB4:
  88              	.LBI4:
  65:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** {
  89              		.loc 1 65 12 is_stmt 1 view .LVU14
  90              	.LBB5:
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  91              		.loc 1 78 5 view .LVU15
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  92              		.loc 1 78 11 is_stmt 0 view .LVU16
  93 0028 2946     		mov	r1, r5
  94 002a 2046     		mov	r0, r4
  95              	.LVL6:
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
  96              		.loc 1 78 11 view .LVU17
  97              	.LBE5:
  98              	.LBE4:
  99              		.loc 1 85 1 view .LVU18
 100 002c 02B0     		add	sp, sp, #8
 101              	.LCFI4:
 102              		.cfi_def_cfa_offset 16
 103              		@ sp needed
 104 002e BDE87040 		pop	{r4, r5, r6, lr}
 105              	.LCFI5:
 106              		.cfi_restore 14
 107              		.cfi_restore 6
 108              		.cfi_restore 5
 109              		.cfi_restore 4
 110              		.cfi_def_cfa_offset 0
 111              	.LVL7:
 112              	.LBB7:
 113              	.LBB6:
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
 114              		.loc 1 78 11 view .LVU19
 115 0032 FFF7FEBF 		b	ota_img_flush
 116              	.LVL8:
 117              	.LBE6:
 118              	.LBE7:
 119              		.cfi_endproc
 120              	.LFE3:
 122 0036 00BF     		.section	.rodata.ota_flag_save.str1.4,"aMS",%progbits,1
 123              		.align	2
 124              	.LC0:
 125 0000 5B25735D 		.ascii	"[%s][%u][%s] FLAGBACKUP READ ERROR\015\012\000"
 125      5B25755D 
 125      5B25735D 
 125      20464C41 
 125      47424143 
 126 0025 000000   		.align	2
 127              	.LC1:
 128 0028 5B25735D 		.ascii	"[%s][%u][%s] FLAGBACKUP UPDATE ERROR\015\012\000"
 128      5B25755D 
 128      5B25735D 
 128      20464C41 
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 5


 128      47424143 
 129 004f 00       		.align	2
 130              	.LC2:
 131 0050 5B25735D 		.ascii	"[%s][%u][%s] FLAGMASTER UPDATE ERROR\015\012\000"
 131      5B25755D 
 131      5B25735D 
 131      20464C41 
 131      474D4153 
 132              		.section	.text.ota_flag_save,"ax",%progbits
 133              		.align	1
 134              		.p2align 2,,3
 135              		.global	ota_flag_save
 136              		.syntax unified
 137              		.thumb
 138              		.thumb_func
 139              		.fpu fpv4-sp-d16
 141              	ota_flag_save:
 142              	.LVL9:
 143              	.LFB4:
  86:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  87:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  88:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  89:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** int ota_flag_save(en_ota_type_t  otatype, ota_flag_t *flag)
  90:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** {
 144              		.loc 1 90 1 is_stmt 1 view -0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 184
 147              		@ frame_needed = 0, uses_anonymous_args = 0
  91:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     int ret = -1;
 148              		.loc 1 91 5 view .LVU21
  92:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     uint32_t    crc;
 149              		.loc 1 92 5 view .LVU22
  93:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ota_flag_t  flag_backup;
 150              		.loc 1 93 5 view .LVU23
  94:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
  95:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if((otatype  >= EN_OTA_TYPE_LAST) || (NULL == flag))
 151              		.loc 1 95 5 view .LVU24
  90:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     int ret = -1;
 152              		.loc 1 90 1 is_stmt 0 view .LVU25
 153 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 154              	.LCFI6:
 155              		.cfi_def_cfa_offset 20
 156              		.cfi_offset 4, -20
 157              		.cfi_offset 5, -16
 158              		.cfi_offset 6, -12
 159              		.cfi_offset 7, -8
 160              		.cfi_offset 14, -4
 161              		.loc 1 95 7 view .LVU26
 162 0002 0128     		cmp	r0, #1
  90:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     int ret = -1;
 163              		.loc 1 90 1 view .LVU27
 164 0004 B1B0     		sub	sp, sp, #196
 165              	.LCFI7:
 166              		.cfi_def_cfa_offset 216
 167              		.loc 1 95 7 view .LVU28
 168 0006 61D8     		bhi	.L12
 169 0008 0F46     		mov	r7, r1
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 6


 170              		.loc 1 95 39 discriminator 1 view .LVU29
 171 000a 0029     		cmp	r1, #0
 172 000c 5ED0     		beq	.L12
  96:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
  97:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         return ret;
  98:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
  99:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     flag->crc = calc_crc32(0,&flag->info, sizeof(flag->info));
 173              		.loc 1 99 5 is_stmt 1 view .LVU30
 174 000e 0646     		mov	r6, r0
 175              		.loc 1 99 17 is_stmt 0 view .LVU31
 176 0010 B022     		movs	r2, #176
 177 0012 0020     		movs	r0, #0
 178              	.LVL10:
 179              		.loc 1 99 17 view .LVU32
 180 0014 FFF7FEFF 		bl	calc_crc32
 181              	.LVL11:
 100:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< check if the backup one is ok or not
 101:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_img_read(otatype,EN_OTA_IMG_FLAGBACKUP,0,&flag_backup,sizeof(ota_flag_t));
 182              		.loc 1 101 11 view .LVU33
 183 0018 B422     		movs	r2, #180
  99:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< check if the backup one is ok or not
 184              		.loc 1 99 15 view .LVU34
 185 001a C7F8B000 		str	r0, [r7, #176]	@ unaligned
 186              		.loc 1 101 5 is_stmt 1 view .LVU35
 187              		.loc 1 101 11 is_stmt 0 view .LVU36
 188 001e 03AB     		add	r3, sp, #12
 189 0020 0092     		str	r2, [sp]
 190 0022 0421     		movs	r1, #4
 191 0024 0022     		movs	r2, #0
 192 0026 3046     		mov	r0, r6
 193 0028 FFF7FEFF 		bl	ota_img_read
 194              	.LVL12:
 102:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
 195              		.loc 1 102 5 is_stmt 1 view .LVU37
 196              		.loc 1 102 7 is_stmt 0 view .LVU38
 197 002c 0446     		mov	r4, r0
 198 002e D8B9     		cbnz	r0, .L22
 103:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 104:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         LINK_LOG_ERROR("FLAGBACKUP READ ERROR");
 105:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 106:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 107:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     crc = calc_crc32(0,&flag_backup.info, sizeof(flag_backup.info));
 199              		.loc 1 107 5 is_stmt 1 view .LVU39
 200              		.loc 1 107 11 is_stmt 0 view .LVU40
 201 0030 03A9     		add	r1, sp, #12
 202 0032 B022     		movs	r2, #176
 203 0034 FFF7FEFF 		bl	calc_crc32
 204              	.LVL13:
 108:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(crc != flag_backup.crc) ///< the backup one is not preserved
 205              		.loc 1 108 7 view .LVU41
 206 0038 2F9B     		ldr	r3, [sp, #188]
 207 003a 8342     		cmp	r3, r0
 107:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(crc != flag_backup.crc) ///< the backup one is not preserved
 208              		.loc 1 107 11 view .LVU42
 209 003c 0546     		mov	r5, r0
 210              	.LVL14:
 211              		.loc 1 108 5 is_stmt 1 view .LVU43
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 7


 212              		.loc 1 108 7 is_stmt 0 view .LVU44
 213 003e 06D0     		beq	.L9
 109:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 110:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = ota_flag_imgupdate(otatype,EN_OTA_IMG_FLAGBACKUP,flag);
 214              		.loc 1 110 9 is_stmt 1 view .LVU45
 215              		.loc 1 110 15 is_stmt 0 view .LVU46
 216 0040 3A46     		mov	r2, r7
 217 0042 0421     		movs	r1, #4
 218 0044 3046     		mov	r0, r6
 219              	.LVL15:
 220              		.loc 1 110 15 view .LVU47
 221 0046 FFF7FEFF 		bl	ota_flag_imgupdate
 222              	.LVL16:
 111:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         if(ret != 0)
 223              		.loc 1 111 9 is_stmt 1 view .LVU48
 224              		.loc 1 111 11 is_stmt 0 view .LVU49
 225 004a 0446     		mov	r4, r0
 226 004c 98BB     		cbnz	r0, .L21
 227              	.LVL17:
 228              	.L9:
 112:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         {
 113:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             LINK_LOG_ERROR("FLAGBACKUP UPDATE ERROR");
 114:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 115:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         }
 116:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 117:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_flag_imgupdate(otatype,EN_OTA_IMG_FLAG,flag);
 229              		.loc 1 117 5 is_stmt 1 view .LVU50
 230              		.loc 1 117 11 is_stmt 0 view .LVU51
 231 004e 3A46     		mov	r2, r7
 232 0050 0321     		movs	r1, #3
 233 0052 3046     		mov	r0, r6
 234 0054 FFF7FEFF 		bl	ota_flag_imgupdate
 235              	.LVL18:
 118:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
 236              		.loc 1 118 5 is_stmt 1 view .LVU52
 237              		.loc 1 118 7 is_stmt 0 view .LVU53
 238 0058 0446     		mov	r4, r0
 239 005a C8B9     		cbnz	r0, .L23
 119:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         LINK_LOG_ERROR("FLAGMASTER UPDATE ERROR");
 121:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 122:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 123:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< AND AT THE SAME TIME WE WILL DO WRITE THE DATA TO THE BACKUP IMG,
 124:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(crc == flag_backup.crc)
 240              		.loc 1 124 5 is_stmt 1 view .LVU54
 241              		.loc 1 124 7 is_stmt 0 view .LVU55
 242 005c 2F9B     		ldr	r3, [sp, #188]
 243 005e AB42     		cmp	r3, r5
 244 0060 21D0     		beq	.L24
 245              	.LVL19:
 246              	.L6:
 125:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = ota_flag_imgupdate(otatype,EN_OTA_IMG_FLAGBACKUP,flag);
 127:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         if(ret != 0)
 128:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         {
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             LINK_LOG_ERROR("FLAGBACKUP UPDATE ERROR");
 130:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 8


 131:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         }
 132:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 133:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** EXIT_SAVE:
 134:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     return ret;
 135:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** }
 247              		.loc 1 135 1 view .LVU56
 248 0062 2046     		mov	r0, r4
 249 0064 31B0     		add	sp, sp, #196
 250              	.LCFI8:
 251              		.cfi_remember_state
 252              		.cfi_def_cfa_offset 20
 253              		@ sp needed
 254 0066 F0BD     		pop	{r4, r5, r6, r7, pc}
 255              	.LVL20:
 256              	.L22:
 257              	.LCFI9:
 258              		.cfi_restore_state
 104:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 259              		.loc 1 104 9 is_stmt 1 view .LVU57
 104:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 260              		.loc 1 104 9 view .LVU58
 104:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 261              		.loc 1 104 9 view .LVU59
 262 0068 0420     		movs	r0, #4
 263              	.LVL21:
 104:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 264              		.loc 1 104 9 is_stmt 0 view .LVU60
 265 006a FFF7FEFF 		bl	link_log_level_name
 266              	.LVL22:
 267 006e 0546     		mov	r5, r0
 268 0070 FFF7FEFF 		bl	osal_sys_time
 269              	.LVL23:
 270 0074 174B     		ldr	r3, .L25
 271 0076 0246     		mov	r2, r0
 272 0078 1748     		ldr	r0, .L25+4
 273 007a 2946     		mov	r1, r5
 274              	.L20:
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 275              		.loc 1 129 13 view .LVU61
 276 007c FFF7FEFF 		bl	printf
 277              	.LVL24:
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 278              		.loc 1 129 13 is_stmt 1 view .LVU62
 279 0080 164B     		ldr	r3, .L25+8
 280 0082 1B68     		ldr	r3, [r3]
 281 0084 9868     		ldr	r0, [r3, #8]
 282 0086 FFF7FEFF 		bl	fflush
 283              	.LVL25:
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 284              		.loc 1 129 13 view .LVU63
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 285              		.loc 1 129 13 view .LVU64
 130:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         }
 286              		.loc 1 130 13 view .LVU65
 287              		.loc 1 135 1 is_stmt 0 view .LVU66
 288 008a 2046     		mov	r0, r4
 289 008c 31B0     		add	sp, sp, #196
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 9


 290              	.LCFI10:
 291              		.cfi_remember_state
 292              		.cfi_def_cfa_offset 20
 293              		@ sp needed
 294 008e F0BD     		pop	{r4, r5, r6, r7, pc}
 295              	.LVL26:
 296              	.L23:
 297              	.LCFI11:
 298              		.cfi_restore_state
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 299              		.loc 1 120 9 is_stmt 1 view .LVU67
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 300              		.loc 1 120 9 view .LVU68
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 301              		.loc 1 120 9 view .LVU69
 302 0090 0420     		movs	r0, #4
 303              	.LVL27:
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 304              		.loc 1 120 9 is_stmt 0 view .LVU70
 305 0092 FFF7FEFF 		bl	link_log_level_name
 306              	.LVL28:
 307 0096 0546     		mov	r5, r0
 308              	.LVL29:
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_SAVE;
 309              		.loc 1 120 9 view .LVU71
 310 0098 FFF7FEFF 		bl	osal_sys_time
 311              	.LVL30:
 312 009c 0D4B     		ldr	r3, .L25
 313 009e 0246     		mov	r2, r0
 314 00a0 2946     		mov	r1, r5
 315 00a2 0F48     		ldr	r0, .L25+12
 316 00a4 EAE7     		b	.L20
 317              	.LVL31:
 318              	.L24:
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         if(ret != 0)
 319              		.loc 1 126 9 is_stmt 1 view .LVU72
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         if(ret != 0)
 320              		.loc 1 126 15 is_stmt 0 view .LVU73
 321 00a6 3A46     		mov	r2, r7
 322 00a8 3046     		mov	r0, r6
 323              	.LVL32:
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         if(ret != 0)
 324              		.loc 1 126 15 view .LVU74
 325 00aa 0421     		movs	r1, #4
 326 00ac FFF7FEFF 		bl	ota_flag_imgupdate
 327              	.LVL33:
 127:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         {
 328              		.loc 1 127 9 is_stmt 1 view .LVU75
 127:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         {
 329              		.loc 1 127 11 is_stmt 0 view .LVU76
 330 00b0 0446     		mov	r4, r0
 331 00b2 0028     		cmp	r0, #0
 332 00b4 D5D0     		beq	.L6
 333              	.L21:
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 334              		.loc 1 129 13 is_stmt 1 view .LVU77
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 10


 335              		.loc 1 129 13 view .LVU78
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 336              		.loc 1 129 13 view .LVU79
 337 00b6 0420     		movs	r0, #4
 338              	.LVL34:
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 339              		.loc 1 129 13 is_stmt 0 view .LVU80
 340 00b8 FFF7FEFF 		bl	link_log_level_name
 341              	.LVL35:
 342 00bc 0546     		mov	r5, r0
 343              	.LVL36:
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****             goto EXIT_SAVE;
 344              		.loc 1 129 13 view .LVU81
 345 00be FFF7FEFF 		bl	osal_sys_time
 346              	.LVL37:
 347 00c2 044B     		ldr	r3, .L25
 348 00c4 0246     		mov	r2, r0
 349 00c6 2946     		mov	r1, r5
 350 00c8 0648     		ldr	r0, .L25+16
 351 00ca D7E7     		b	.L20
 352              	.LVL38:
 353              	.L12:
  97:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 354              		.loc 1 97 16 view .LVU82
 355 00cc 4FF0FF34 		mov	r4, #-1
 356              	.LVL39:
  97:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 357              		.loc 1 97 16 view .LVU83
 358 00d0 C7E7     		b	.L6
 359              	.L26:
 360 00d2 00BF     		.align	2
 361              	.L25:
 362 00d4 00000000 		.word	.LANCHOR0
 363 00d8 00000000 		.word	.LC0
 364 00dc 00000000 		.word	_impure_ptr
 365 00e0 50000000 		.word	.LC2
 366 00e4 28000000 		.word	.LC1
 367              		.cfi_endproc
 368              	.LFE4:
 370              		.section	.rodata.ota_flag_get.str1.4,"aMS",%progbits,1
 371              		.align	2
 372              	.LC3:
 373 0000 5B25735D 		.ascii	"[%s][%u][%s] PARAMETERS ERROR\015\012\000"
 373      5B25755D 
 373      5B25735D 
 373      20504152 
 373      414D4554 
 374              		.align	2
 375              	.LC4:
 376 0020 5B25735D 		.ascii	"[%s][%u][%s] FLAGMASTER READ ERROR\015\012\000"
 376      5B25755D 
 376      5B25735D 
 376      20464C41 
 376      474D4153 
 377 0045 000000   		.align	2
 378              	.LC5:
 379 0048 5B25735D 		.ascii	"[%s][%u][%s] MASTER FLAG DESTROYED\015\012\000"
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 11


 379      5B25755D 
 379      5B25735D 
 379      204D4153 
 379      54455220 
 380 006d 000000   		.align	2
 381              	.LC6:
 382 0070 5B25735D 		.ascii	"[%s][%u][%s]  FLAGBACKUP READ ERROR\015\012\000"
 382      5B25755D 
 382      5B25735D 
 382      2020464C 
 382      41474241 
 383 0096 0000     		.align	2
 384              	.LC7:
 385 0098 5B25735D 		.ascii	"[%s][%u][%s]  FLAGBACKUP DESTRORED\015\012\000"
 385      5B25755D 
 385      5B25735D 
 385      2020464C 
 385      41474241 
 386 00bd 000000   		.align	2
 387              	.LC8:
 388 00c0 5B25735D 		.ascii	"[%s][%u][%s] FLAGBACKUP SUCCESS\015\012\000"
 388      5B25755D 
 388      5B25735D 
 388      20464C41 
 388      47424143 
 389              		.section	.text.ota_flag_get,"ax",%progbits
 390              		.align	1
 391              		.p2align 2,,3
 392              		.global	ota_flag_get
 393              		.syntax unified
 394              		.thumb
 395              		.thumb_func
 396              		.fpu fpv4-sp-d16
 398              	ota_flag_get:
 399              	.LVL40:
 400              	.LFB5:
 136:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
 137:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** int ota_flag_get(en_ota_type_t  otatype,ota_flag_t *flag)
 138:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** {
 401              		.loc 1 138 1 is_stmt 1 view -0
 402              		.cfi_startproc
 403              		@ args = 0, pretend = 0, frame = 184
 404              		@ frame_needed = 0, uses_anonymous_args = 0
 139:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     int ret = -1;
 405              		.loc 1 139 5 view .LVU85
 140:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     uint32_t    crc;
 406              		.loc 1 140 5 view .LVU86
 141:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ota_flag_t  flag_backup;
 407              		.loc 1 141 5 view .LVU87
 142:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if((NULL == flag) || (otatype >= EN_OTA_TYPE_LAST))
 408              		.loc 1 142 5 view .LVU88
 138:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     int ret = -1;
 409              		.loc 1 138 1 is_stmt 0 view .LVU89
 410 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 411              	.LCFI12:
 412              		.cfi_def_cfa_offset 28
 413              		.cfi_offset 4, -28
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 12


 414              		.cfi_offset 5, -24
 415              		.cfi_offset 6, -20
 416              		.cfi_offset 7, -16
 417              		.cfi_offset 8, -12
 418              		.cfi_offset 9, -8
 419              		.cfi_offset 14, -4
 420 0004 B1B0     		sub	sp, sp, #196
 421              	.LCFI13:
 422              		.cfi_def_cfa_offset 224
 423              		.loc 1 142 7 view .LVU90
 424 0006 0029     		cmp	r1, #0
 425 0008 00F09B80 		beq	.L28
 426              		.loc 1 142 23 discriminator 1 view .LVU91
 427 000c 0128     		cmp	r0, #1
 428 000e 0646     		mov	r6, r0
 429 0010 00F29780 		bhi	.L28
 143:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         LINK_LOG_ERROR("PARAMETERS ERROR");
 145:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 146:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 147:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< read the master one
 148:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_img_read(otatype,EN_OTA_IMG_FLAG,0,flag,sizeof(ota_flag_t));
 430              		.loc 1 148 5 is_stmt 1 view .LVU92
 431              		.loc 1 148 11 is_stmt 0 view .LVU93
 432 0014 4FF0B408 		mov	r8, #180
 433 0018 0B46     		mov	r3, r1
 434 001a 0C46     		mov	r4, r1
 435 001c CDF80080 		str	r8, [sp]
 436 0020 0022     		movs	r2, #0
 437 0022 0321     		movs	r1, #3
 438              	.LVL41:
 439              		.loc 1 148 11 view .LVU94
 440 0024 FFF7FEFF 		bl	ota_img_read
 441              	.LVL42:
 149:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
 442              		.loc 1 149 5 is_stmt 1 view .LVU95
 443              		.loc 1 149 7 is_stmt 0 view .LVU96
 444 0028 0546     		mov	r5, r0
 445 002a C8BB     		cbnz	r0, .L43
 150:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         LINK_LOG_ERROR("FLAGMASTER READ ERROR");
 152:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 153:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 154:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     crc = calc_crc32(0,&flag->info, sizeof(flag->info));
 446              		.loc 1 154 5 is_stmt 1 view .LVU97
 447              		.loc 1 154 11 is_stmt 0 view .LVU98
 448 002c B022     		movs	r2, #176
 449 002e 2146     		mov	r1, r4
 450 0030 FFF7FEFF 		bl	calc_crc32
 451              	.LVL43:
 155:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(crc == flag->crc)  ///< READ MASTER SUCCESS; and we should check if the
 452              		.loc 1 155 5 is_stmt 1 view .LVU99
 453              		.loc 1 155 19 is_stmt 0 view .LVU100
 454 0034 D4F8B030 		ldr	r3, [r4, #176]	@ unaligned
 455              		.loc 1 155 7 view .LVU101
 456 0038 8342     		cmp	r3, r0
 457 003a 5BD0     		beq	.L44
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 13


 156:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 157:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ///< CHECK THE BACKUP ONE, WE DON'T CARE READ SUCCESS OR NOT, WE JUST WANT TO DO THE SYNC
 158:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        (void) ota_img_read(otatype,EN_OTA_IMG_FLAGBACKUP,0,&flag_backup,sizeof(ota_flag_t));
 159:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        if(0 != memcmp(flag,&flag_backup,sizeof(ota_flag_t)))
 160:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        {
 161:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****            (void) ota_flag_imgupdate(otatype,EN_OTA_IMG_FLAGBACKUP,flag);
 162:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        }
 163:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        goto EXIT_GET;
 164:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 165:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     LINK_LOG_ERROR("MASTER FLAG DESTROYED");
 458              		.loc 1 165 5 is_stmt 1 view .LVU102
 459              		.loc 1 165 5 view .LVU103
 460              		.loc 1 165 5 view .LVU104
 461 003c 0420     		movs	r0, #4
 462              	.LVL44:
 463              		.loc 1 165 5 is_stmt 0 view .LVU105
 464 003e FFF7FEFF 		bl	link_log_level_name
 465              	.LVL45:
 466 0042 0746     		mov	r7, r0
 467 0044 FFF7FEFF 		bl	osal_sys_time
 468              	.LVL46:
 469 0048 DFF85491 		ldr	r9, .L48+12
 470 004c 514B     		ldr	r3, .L48
 471 004e 0246     		mov	r2, r0
 472 0050 3946     		mov	r1, r7
 473 0052 5148     		ldr	r0, .L48+4
 474 0054 FFF7FEFF 		bl	printf
 475              	.LVL47:
 476              		.loc 1 165 5 is_stmt 1 view .LVU106
 477 0058 D9F80030 		ldr	r3, [r9]
 478 005c 9868     		ldr	r0, [r3, #8]
 479 005e FFF7FEFF 		bl	fflush
 480              	.LVL48:
 481              		.loc 1 165 5 view .LVU107
 482              		.loc 1 165 5 view .LVU108
 166:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< the master one is not ok, so try to read the backup one
 167:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ret = ota_img_read(otatype,EN_OTA_IMG_FLAGBACKUP,0,flag,sizeof(ota_flag_t));
 483              		.loc 1 167 5 view .LVU109
 484              		.loc 1 167 11 is_stmt 0 view .LVU110
 485 0062 2A46     		mov	r2, r5
 486 0064 CDF80080 		str	r8, [sp]
 487 0068 2346     		mov	r3, r4
 488 006a 0421     		movs	r1, #4
 489 006c 3046     		mov	r0, r6
 490 006e FFF7FEFF 		bl	ota_img_read
 491              	.LVL49:
 168:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(ret != 0)
 492              		.loc 1 168 5 is_stmt 1 view .LVU111
 493              		.loc 1 168 7 is_stmt 0 view .LVU112
 494 0072 0546     		mov	r5, r0
 495 0074 48BB     		cbnz	r0, .L45
 169:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         LINK_LOG_ERROR(" FLAGBACKUP READ ERROR");
 171:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 172:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 173:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     crc = calc_crc32(0,&flag->info, sizeof(flag->info));
 496              		.loc 1 173 5 is_stmt 1 view .LVU113
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 14


 497              		.loc 1 173 11 is_stmt 0 view .LVU114
 498 0076 B022     		movs	r2, #176
 499 0078 2146     		mov	r1, r4
 500 007a FFF7FEFF 		bl	calc_crc32
 501              	.LVL50:
 174:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     if(crc != flag->crc)   ///< back up one is also destroyed
 502              		.loc 1 174 5 is_stmt 1 view .LVU115
 503              		.loc 1 174 19 is_stmt 0 view .LVU116
 504 007e D4F8B030 		ldr	r3, [r4, #176]	@ unaligned
 505              		.loc 1 174 7 view .LVU117
 506 0082 8342     		cmp	r3, r0
 507 0084 71D1     		bne	.L46
 175:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     {
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         LINK_LOG_ERROR(" FLAGBACKUP DESTRORED");
 177:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 178:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 179:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 180:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     LINK_LOG_DEBUG("FLAGBACKUP SUCCESS");
 508              		.loc 1 180 5 is_stmt 1 view .LVU118
 509              		.loc 1 180 5 view .LVU119
 510 0086 FFF7FEFF 		bl	link_log_level_get
 511              	.LVL51:
 512              		.loc 1 180 5 is_stmt 0 view .LVU120
 513 008a 0128     		cmp	r0, #1
 514 008c 47D9     		bls	.L47
 515              	.L35:
 516              		.loc 1 180 5 is_stmt 1 discriminator 3 view .LVU121
 517              		.loc 1 180 5 discriminator 3 view .LVU122
 518              		.loc 1 180 5 discriminator 3 view .LVU123
 181:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< WE WRITE THE DATA TO THE MASTER IMG
 182:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     (void) ota_flag_imgupdate(otatype,EN_OTA_IMG_FLAG,flag);
 519              		.loc 1 182 5 discriminator 3 view .LVU124
 520              		.loc 1 182 12 is_stmt 0 discriminator 3 view .LVU125
 521 008e 2246     		mov	r2, r4
 522 0090 3046     		mov	r0, r6
 523 0092 0321     		movs	r1, #3
 524 0094 FFF7FEFF 		bl	ota_flag_imgupdate
 525              	.LVL52:
 526              	.L30:
 527              	.L27:
 183:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** 
 184:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** EXIT_GET:
 185:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     return ret;
 186:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c **** }
 528              		.loc 1 186 1 view .LVU126
 529 0098 2846     		mov	r0, r5
 530 009a 31B0     		add	sp, sp, #196
 531              	.LCFI14:
 532              		.cfi_remember_state
 533              		.cfi_def_cfa_offset 28
 534              		@ sp needed
 535 009c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 536              	.LVL53:
 537              	.L43:
 538              	.LCFI15:
 539              		.cfi_restore_state
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 15


 540              		.loc 1 151 9 is_stmt 1 view .LVU127
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 541              		.loc 1 151 9 view .LVU128
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 542              		.loc 1 151 9 view .LVU129
 543 00a0 0420     		movs	r0, #4
 544              	.LVL54:
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 545              		.loc 1 151 9 is_stmt 0 view .LVU130
 546 00a2 FFF7FEFF 		bl	link_log_level_name
 547              	.LVL55:
 548 00a6 0446     		mov	r4, r0
 549              	.LVL56:
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 550              		.loc 1 151 9 view .LVU131
 551 00a8 FFF7FEFF 		bl	osal_sys_time
 552              	.LVL57:
 553 00ac 2146     		mov	r1, r4
 554 00ae 0246     		mov	r2, r0
 555 00b0 384B     		ldr	r3, .L48
 556 00b2 3A48     		ldr	r0, .L48+8
 557 00b4 FFF7FEFF 		bl	printf
 558              	.LVL58:
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 559              		.loc 1 151 9 is_stmt 1 view .LVU132
 560 00b8 394B     		ldr	r3, .L48+12
 561 00ba 1B68     		ldr	r3, [r3]
 562 00bc 9868     		ldr	r0, [r3, #8]
 563 00be FFF7FEFF 		bl	fflush
 564              	.LVL59:
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 565              		.loc 1 151 9 view .LVU133
 151:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 566              		.loc 1 151 9 view .LVU134
 152:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 567              		.loc 1 152 9 view .LVU135
 568              		.loc 1 186 1 is_stmt 0 view .LVU136
 569 00c2 2846     		mov	r0, r5
 570 00c4 31B0     		add	sp, sp, #196
 571              	.LCFI16:
 572              		.cfi_remember_state
 573              		.cfi_def_cfa_offset 28
 574              		@ sp needed
 575 00c6 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 576              	.LVL60:
 577              	.L45:
 578              	.LCFI17:
 579              		.cfi_restore_state
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 580              		.loc 1 170 9 is_stmt 1 view .LVU137
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 581              		.loc 1 170 9 view .LVU138
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 582              		.loc 1 170 9 view .LVU139
 583 00ca 0420     		movs	r0, #4
 584              	.LVL61:
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 16


 585              		.loc 1 170 9 is_stmt 0 view .LVU140
 586 00cc FFF7FEFF 		bl	link_log_level_name
 587              	.LVL62:
 588 00d0 0446     		mov	r4, r0
 589              	.LVL63:
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 590              		.loc 1 170 9 view .LVU141
 591 00d2 FFF7FEFF 		bl	osal_sys_time
 592              	.LVL64:
 593 00d6 2146     		mov	r1, r4
 594 00d8 0246     		mov	r2, r0
 595 00da 2E4B     		ldr	r3, .L48
 596 00dc 3148     		ldr	r0, .L48+16
 597 00de FFF7FEFF 		bl	printf
 598              	.LVL65:
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 599              		.loc 1 170 9 is_stmt 1 view .LVU142
 600 00e2 D9F80030 		ldr	r3, [r9]
 601 00e6 9868     		ldr	r0, [r3, #8]
 602 00e8 FFF7FEFF 		bl	fflush
 603              	.LVL66:
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 604              		.loc 1 170 9 view .LVU143
 170:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 605              		.loc 1 170 9 view .LVU144
 171:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 606              		.loc 1 171 9 view .LVU145
 607              		.loc 1 186 1 is_stmt 0 view .LVU146
 608 00ec 2846     		mov	r0, r5
 609 00ee 31B0     		add	sp, sp, #196
 610              	.LCFI18:
 611              		.cfi_remember_state
 612              		.cfi_def_cfa_offset 28
 613              		@ sp needed
 614 00f0 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 615              	.LVL67:
 616              	.L44:
 617              	.LCFI19:
 618              		.cfi_restore_state
 158:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        if(0 != memcmp(flag,&flag_backup,sizeof(ota_flag_t)))
 619              		.loc 1 158 8 is_stmt 1 view .LVU147
 158:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        if(0 != memcmp(flag,&flag_backup,sizeof(ota_flag_t)))
 620              		.loc 1 158 15 is_stmt 0 view .LVU148
 621 00f4 2A46     		mov	r2, r5
 622 00f6 0421     		movs	r1, #4
 623 00f8 CDF80080 		str	r8, [sp]
 624 00fc 03AB     		add	r3, sp, #12
 625 00fe 3046     		mov	r0, r6
 626              	.LVL68:
 158:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        if(0 != memcmp(flag,&flag_backup,sizeof(ota_flag_t)))
 627              		.loc 1 158 15 view .LVU149
 628 0100 FFF7FEFF 		bl	ota_img_read
 629              	.LVL69:
 159:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        {
 630              		.loc 1 159 8 is_stmt 1 view .LVU150
 159:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        {
 631              		.loc 1 159 16 is_stmt 0 view .LVU151
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 17


 632 0104 4246     		mov	r2, r8
 633 0106 03A9     		add	r1, sp, #12
 634 0108 2046     		mov	r0, r4
 635 010a FFF7FEFF 		bl	memcmp
 636              	.LVL70:
 159:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        {
 637              		.loc 1 159 10 view .LVU152
 638 010e 0028     		cmp	r0, #0
 639 0110 C2D0     		beq	.L27
 161:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        }
 640              		.loc 1 161 12 is_stmt 1 view .LVU153
 161:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****        }
 641              		.loc 1 161 19 is_stmt 0 view .LVU154
 642 0112 2246     		mov	r2, r4
 643 0114 3046     		mov	r0, r6
 644 0116 0421     		movs	r1, #4
 645 0118 FFF7FEFF 		bl	ota_flag_imgupdate
 646              	.LVL71:
 647 011c BCE7     		b	.L27
 648              	.L47:
 180:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< WE WRITE THE DATA TO THE MASTER IMG
 649              		.loc 1 180 5 is_stmt 1 discriminator 1 view .LVU155
 180:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< WE WRITE THE DATA TO THE MASTER IMG
 650              		.loc 1 180 5 discriminator 1 view .LVU156
 180:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< WE WRITE THE DATA TO THE MASTER IMG
 651              		.loc 1 180 5 discriminator 1 view .LVU157
 652 011e 0120     		movs	r0, #1
 653 0120 FFF7FEFF 		bl	link_log_level_name
 654              	.LVL72:
 655 0124 0746     		mov	r7, r0
 656 0126 FFF7FEFF 		bl	osal_sys_time
 657              	.LVL73:
 658 012a 1A4B     		ldr	r3, .L48
 659 012c 0246     		mov	r2, r0
 660 012e 3946     		mov	r1, r7
 661 0130 1D48     		ldr	r0, .L48+20
 662 0132 FFF7FEFF 		bl	printf
 663              	.LVL74:
 180:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     ///< WE WRITE THE DATA TO THE MASTER IMG
 664              		.loc 1 180 5 discriminator 1 view .LVU158
 665 0136 D9F80030 		ldr	r3, [r9]
 666 013a 9868     		ldr	r0, [r3, #8]
 667 013c FFF7FEFF 		bl	fflush
 668              	.LVL75:
 669 0140 A5E7     		b	.L35
 670              	.LVL76:
 671              	.L28:
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 672              		.loc 1 144 9 view .LVU159
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 673              		.loc 1 144 9 view .LVU160
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 674              		.loc 1 144 9 view .LVU161
 675 0142 0420     		movs	r0, #4
 676              	.LVL77:
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 677              		.loc 1 144 9 is_stmt 0 view .LVU162
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 18


 678 0144 FFF7FEFF 		bl	link_log_level_name
 679              	.LVL78:
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 680              		.loc 1 144 9 view .LVU163
 681 0148 0446     		mov	r4, r0
 682 014a FFF7FEFF 		bl	osal_sys_time
 683              	.LVL79:
 684 014e 114B     		ldr	r3, .L48
 685 0150 0246     		mov	r2, r0
 686 0152 2146     		mov	r1, r4
 687 0154 1548     		ldr	r0, .L48+24
 688 0156 FFF7FEFF 		bl	printf
 689              	.LVL80:
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 690              		.loc 1 144 9 is_stmt 1 view .LVU164
 691 015a 114B     		ldr	r3, .L48+12
 692 015c 1B68     		ldr	r3, [r3]
 693 015e 9868     		ldr	r0, [r3, #8]
 694 0160 FFF7FEFF 		bl	fflush
 695              	.LVL81:
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 696              		.loc 1 144 9 view .LVU165
 144:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 697              		.loc 1 144 9 view .LVU166
 145:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 698              		.loc 1 145 9 view .LVU167
 139:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     uint32_t    crc;
 699              		.loc 1 139 9 is_stmt 0 view .LVU168
 700 0164 4FF0FF35 		mov	r5, #-1
 145:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 701              		.loc 1 145 9 view .LVU169
 702 0168 96E7     		b	.L27
 703              	.LVL82:
 704              	.L46:
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 705              		.loc 1 176 9 is_stmt 1 view .LVU170
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 706              		.loc 1 176 9 view .LVU171
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 707              		.loc 1 176 9 view .LVU172
 708 016a 0420     		movs	r0, #4
 709              	.LVL83:
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 710              		.loc 1 176 9 is_stmt 0 view .LVU173
 711 016c FFF7FEFF 		bl	link_log_level_name
 712              	.LVL84:
 713 0170 0446     		mov	r4, r0
 714              	.LVL85:
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 715              		.loc 1 176 9 view .LVU174
 716 0172 FFF7FEFF 		bl	osal_sys_time
 717              	.LVL86:
 718 0176 074B     		ldr	r3, .L48
 719 0178 0246     		mov	r2, r0
 720 017a 2146     		mov	r1, r4
 721 017c 0C48     		ldr	r0, .L48+28
 722 017e FFF7FEFF 		bl	printf
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 19


 723              	.LVL87:
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 724              		.loc 1 176 9 is_stmt 1 view .LVU175
 725 0182 D9F80030 		ldr	r3, [r9]
 726 0186 9868     		ldr	r0, [r3, #8]
 727 0188 FFF7FEFF 		bl	fflush
 728              	.LVL88:
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 729              		.loc 1 176 9 view .LVU176
 176:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         ret = -1;
 730              		.loc 1 176 9 view .LVU177
 177:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 731              		.loc 1 177 9 view .LVU178
 178:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 732              		.loc 1 178 9 view .LVU179
 177:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****         goto EXIT_GET;
 733              		.loc 1 177 13 is_stmt 0 view .LVU180
 734 018c 4FF0FF35 		mov	r5, #-1
 178:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota\ota_flag.c ****     }
 735              		.loc 1 178 9 view .LVU181
 736 0190 82E7     		b	.L27
 737              	.L49:
 738 0192 00BF     		.align	2
 739              	.L48:
 740 0194 00000000 		.word	.LANCHOR1
 741 0198 48000000 		.word	.LC5
 742 019c 20000000 		.word	.LC4
 743 01a0 00000000 		.word	_impure_ptr
 744 01a4 70000000 		.word	.LC6
 745 01a8 C0000000 		.word	.LC8
 746 01ac 00000000 		.word	.LC3
 747 01b0 98000000 		.word	.LC7
 748              		.cfi_endproc
 749              	.LFE5:
 751              		.section	.rodata.__FUNCTION__.6925,"a"
 752              		.align	2
 753              		.set	.LANCHOR0,. + 0
 756              	__FUNCTION__.6925:
 757 0000 6F74615F 		.ascii	"ota_flag_save\000"
 757      666C6167 
 757      5F736176 
 757      6500
 758              		.section	.rodata.__FUNCTION__.6934,"a"
 759              		.align	2
 760              		.set	.LANCHOR1,. + 0
 763              	__FUNCTION__.6934:
 764 0000 6F74615F 		.ascii	"ota_flag_get\000"
 764      666C6167 
 764      5F676574 
 764      00
 765              		.text
 766              	.Letext0:
 767              		.file 2 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\lib\\gcc\\arm-none-eabi\\9.3.1\\
 768              		.file 3 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\machine\
 769              		.file 4 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\_ty
 770              		.file 5 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\ree
 771              		.file 6 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\loc
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 20


 772              		.file 7 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\_st
 773              		.file 8 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/inc/link_log.h
 774              		.file 9 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota/ota_i
 775              		.file 10 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_ota/ota_
 776              		.file 11 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/crc/crc.h"
 777              		.file 12 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\stdio.h
 778              		.file 13 "<built-in>"
ARM GAS  T:\msys\tmp\ccWqBttb.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 ota_flag.c
T:\msys\tmp\ccWqBttb.s:18     .text.ota_flag_imgupdate:00000000 $t
T:\msys\tmp\ccWqBttb.s:26     .text.ota_flag_imgupdate:00000000 ota_flag_imgupdate
T:\msys\tmp\ccWqBttb.s:123    .rodata.ota_flag_save.str1.4:00000000 $d
T:\msys\tmp\ccWqBttb.s:133    .text.ota_flag_save:00000000 $t
T:\msys\tmp\ccWqBttb.s:141    .text.ota_flag_save:00000000 ota_flag_save
T:\msys\tmp\ccWqBttb.s:362    .text.ota_flag_save:000000d4 $d
T:\msys\tmp\ccWqBttb.s:371    .rodata.ota_flag_get.str1.4:00000000 $d
T:\msys\tmp\ccWqBttb.s:390    .text.ota_flag_get:00000000 $t
T:\msys\tmp\ccWqBttb.s:398    .text.ota_flag_get:00000000 ota_flag_get
T:\msys\tmp\ccWqBttb.s:740    .text.ota_flag_get:00000194 $d
T:\msys\tmp\ccWqBttb.s:752    .rodata.__FUNCTION__.6925:00000000 $d
T:\msys\tmp\ccWqBttb.s:756    .rodata.__FUNCTION__.6925:00000000 __FUNCTION__.6925
T:\msys\tmp\ccWqBttb.s:759    .rodata.__FUNCTION__.6934:00000000 $d
T:\msys\tmp\ccWqBttb.s:763    .rodata.__FUNCTION__.6934:00000000 __FUNCTION__.6934

UNDEFINED SYMBOLS
ota_img_erase
ota_img_write
ota_img_flush
calc_crc32
ota_img_read
link_log_level_name
osal_sys_time
printf
fflush
_impure_ptr
link_log_level_get
memcmp
