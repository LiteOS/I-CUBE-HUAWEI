ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"uart_debug.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.uart_debug_irq,"ax",%progbits
  18              		.align	1
  19              		.p2align 2,,3
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	uart_debug_irq:
  27              	.LFB133:
  28              		.file 1 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/S
   1:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** /*----------------------------------------------------------------------------
   2:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * All rights reserved.
   4:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * are permitted provided that the following conditions are met:
   6:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * conditions and the following disclaimer.
   8:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * provided with the distribution.
  11:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * to endorse or promote products derived from this software without specific prior written
  13:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * permission.
  14:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  *---------------------------------------------------------------------------*/
  26:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** /*----------------------------------------------------------------------------
  27:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * Notice of Export Control Law
  28:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * ===============================================
  29:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 2


  31:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  * applicable export control laws and regulations.
  33:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****  *---------------------------------------------------------------------------*/
  34:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  35:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include "stm32l4xx.h"
  36:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include "stm32l4xx_hal_conf.h"
  37:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <stdint.h>
  38:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <stddef.h>
  39:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  40:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <osal.h>
  41:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <link_misc.h>
  42:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  43:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <los_hwi.h>
  44:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <los_sem.h>
  45:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #include <los_base.h>
  46:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  47:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #define CN_RCV_RING_BUFLEN  128
  48:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  49:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static USART_TypeDef*     s_pUSART = LPUART1;
  50:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static uint32_t           s_uwIRQn = LPUART1_IRQn;
  51:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  52:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static bool_t s_uart_init = false;
  53:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  54:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** /* USART1 init function */
  55:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** UART_HandleTypeDef uart_debug;
  56:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static tag_ring_buffer_t  s_uartdebug_rcv_ring;
  57:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static unsigned char      s_uartdebug_rcv_ringmem[CN_RCV_RING_BUFLEN];
  58:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static UINT32        s_uartdebug_rcv_sync;
  59:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** static void uart_debug_irq(void)
  60:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** {
  29              		.loc 1 60 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  61:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     unsigned char value;
  33              		.loc 1 61 5 view .LVU1
  62:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     if(__HAL_UART_GET_FLAG(&uart_debug, UART_FLAG_RXNE) != RESET)
  34              		.loc 1 62 5 view .LVU2
  35              		.loc 1 62 8 is_stmt 0 view .LVU3
  36 0000 0E4B     		ldr	r3, .L13
  37 0002 1B68     		ldr	r3, [r3]
  38 0004 DA69     		ldr	r2, [r3, #28]
  39              		.loc 1 62 7 view .LVU4
  40 0006 9106     		lsls	r1, r2, #26
  41 0008 05D4     		bmi	.L12
  63:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
  64:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         value = (uint8_t)(uart_debug.Instance->RDR & 0x00FF);
  65:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         ring_buffer_write(&s_uartdebug_rcv_ring,&value,1);
  66:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         LOS_SemPost(s_uartdebug_rcv_sync);
  67:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
  68:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     else if (__HAL_UART_GET_FLAG(&uart_debug,UART_FLAG_IDLE) != RESET)
  42              		.loc 1 68 10 is_stmt 1 view .LVU5
  43              		.loc 1 68 14 is_stmt 0 view .LVU6
  44 000a DA69     		ldr	r2, [r3, #28]
  45              		.loc 1 68 13 view .LVU7
  46 000c D206     		lsls	r2, r2, #27
  69:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 3


  70:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         __HAL_UART_CLEAR_IDLEFLAG(&uart_debug);
  47              		.loc 1 70 9 is_stmt 1 view .LVU8
  48 000e 44BF     		itt	mi
  49 0010 1022     		movmi	r2, #16
  50 0012 1A62     		strmi	r2, [r3, #32]
  51 0014 7047     		bx	lr
  52              	.L12:
  64:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         ring_buffer_write(&s_uartdebug_rcv_ring,&value,1);
  53              		.loc 1 64 9 view .LVU9
  60:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     unsigned char value;
  54              		.loc 1 60 1 is_stmt 0 view .LVU10
  55 0016 00B5     		push	{lr}
  56              	.LCFI0:
  57              		.cfi_def_cfa_offset 4
  58              		.cfi_offset 14, -4
  59 0018 83B0     		sub	sp, sp, #12
  60              	.LCFI1:
  61              		.cfi_def_cfa_offset 16
  64:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         ring_buffer_write(&s_uartdebug_rcv_ring,&value,1);
  62              		.loc 1 64 46 view .LVU11
  63 001a 9B8C     		ldrh	r3, [r3, #36]
  65:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         LOS_SemPost(s_uartdebug_rcv_sync);
  64              		.loc 1 65 9 view .LVU12
  65 001c 0848     		ldr	r0, .L13+4
  64:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         ring_buffer_write(&s_uartdebug_rcv_ring,&value,1);
  66              		.loc 1 64 17 view .LVU13
  67 001e 8DF80730 		strb	r3, [sp, #7]
  65:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         LOS_SemPost(s_uartdebug_rcv_sync);
  68              		.loc 1 65 9 is_stmt 1 view .LVU14
  69 0022 0122     		movs	r2, #1
  70 0024 0DF10701 		add	r1, sp, #7
  71 0028 FFF7FEFF 		bl	ring_buffer_write
  72              	.LVL0:
  66:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
  73              		.loc 1 66 9 view .LVU15
  74 002c 054B     		ldr	r3, .L13+8
  75 002e 1868     		ldr	r0, [r3]
  76 0030 FFF7FEFF 		bl	LOS_SemPost
  77              	.LVL1:
  71:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
  72:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
  78              		.loc 1 72 1 is_stmt 0 view .LVU16
  79 0034 03B0     		add	sp, sp, #12
  80              	.LCFI2:
  81              		.cfi_def_cfa_offset 4
  82              		@ sp needed
  83 0036 5DF804FB 		ldr	pc, [sp], #4
  84              	.L14:
  85 003a 00BF     		.align	2
  86              	.L13:
  87 003c 00000000 		.word	uart_debug
  88 0040 00000000 		.word	.LANCHOR0
  89 0044 00000000 		.word	.LANCHOR1
  90              		.cfi_endproc
  91              	.LFE133:
  93              		.section	.text.shell_uart_init,"ax",%progbits
  94              		.align	1
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 4


  95              		.p2align 2,,3
  96              		.global	shell_uart_init
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 100              		.fpu fpv4-sp-d16
 102              	shell_uart_init:
 103              	.LVL2:
 104              	.LFB134:
  73:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** void shell_uart_init(int baud)
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** {
 105              		.loc 1 74 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 0
 108              		@ frame_needed = 0, uses_anonymous_args = 0
  75:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Instance = s_pUSART;
 109              		.loc 1 75 5 view .LVU18
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Instance = s_pUSART;
 110              		.loc 1 74 1 is_stmt 0 view .LVU19
 111 0000 30B5     		push	{r4, r5, lr}
 112              	.LCFI3:
 113              		.cfi_def_cfa_offset 12
 114              		.cfi_offset 4, -12
 115              		.cfi_offset 5, -8
 116              		.cfi_offset 14, -4
 117              		.loc 1 75 25 view .LVU20
 118 0002 184C     		ldr	r4, .L18
 119 0004 184B     		ldr	r3, .L18+4
 120 0006 2360     		str	r3, [r4]
  76:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.BaudRate = baud;
 121              		.loc 1 76 5 is_stmt 1 view .LVU21
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Instance = s_pUSART;
 122              		.loc 1 74 1 is_stmt 0 view .LVU22
 123 0008 0146     		mov	r1, r0
  77:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.WordLength = UART_WORDLENGTH_8B;
 124              		.loc 1 77 32 view .LVU23
 125 000a 0023     		movs	r3, #0
  74:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Instance = s_pUSART;
 126              		.loc 1 74 1 view .LVU24
 127 000c 83B0     		sub	sp, sp, #12
 128              	.LCFI4:
 129              		.cfi_def_cfa_offset 24
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.StopBits = UART_STOPBITS_1;
  79:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.Parity = UART_PARITY_NONE;
  80:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.Mode = UART_MODE_TX_RX;
 130              		.loc 1 80 26 view .LVU25
 131 000e 0C22     		movs	r2, #12
  81:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  82:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.OverSampling = UART_OVERSAMPLING_16;
  83:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     if (HAL_UART_Init(&uart_debug) != HAL_OK)
 132              		.loc 1 83 9 view .LVU26
 133 0010 2046     		mov	r0, r4
 134              	.LVL3:
  78:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.StopBits = UART_STOPBITS_1;
 135              		.loc 1 78 30 view .LVU27
 136 0012 C4E90233 		strd	r3, r3, [r4, #8]
  82:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     if (HAL_UART_Init(&uart_debug) != HAL_OK)
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 5


 137              		.loc 1 82 34 view .LVU28
 138 0016 C4E90633 		strd	r3, r3, [r4, #24]
  76:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.WordLength = UART_WORDLENGTH_8B;
 139              		.loc 1 76 30 view .LVU29
 140 001a 6160     		str	r1, [r4, #4]
  77:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.StopBits = UART_STOPBITS_1;
 141              		.loc 1 77 5 is_stmt 1 view .LVU30
  79:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.Mode = UART_MODE_TX_RX;
 142              		.loc 1 79 5 view .LVU31
  80:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 143              		.loc 1 80 26 is_stmt 0 view .LVU32
 144 001c 6261     		str	r2, [r4, #20]
  79:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.Mode = UART_MODE_TX_RX;
 145              		.loc 1 79 28 view .LVU33
 146 001e 2361     		str	r3, [r4, #16]
  80:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.HwFlowCtl = UART_HWCONTROL_NONE;
 147              		.loc 1 80 5 is_stmt 1 view .LVU34
  81:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     uart_debug.Init.OverSampling = UART_OVERSAMPLING_16;
 148              		.loc 1 81 5 view .LVU35
 149              		.loc 1 83 5 view .LVU36
 150              		.loc 1 83 9 is_stmt 0 view .LVU37
 151 0020 FFF7FEFF 		bl	HAL_UART_Init
 152              	.LVL4:
 153              		.loc 1 83 8 view .LVU38
 154 0024 D8B9     		cbnz	r0, .L15
 155 0026 0546     		mov	r5, r0
  84:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
  85:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         return;
  86:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
  87:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     LOS_HwiCreate(s_uwIRQn, 3, 0, uart_debug_irq, 0);
 156              		.loc 1 87 5 is_stmt 1 view .LVU39
 157 0028 0246     		mov	r2, r0
 158 002a 104B     		ldr	r3, .L18+8
 159 002c 0090     		str	r0, [sp]
 160 002e 0321     		movs	r1, #3
 161 0030 4620     		movs	r0, #70
 162 0032 FFF7FEFF 		bl	LOS_HwiCreate
 163              	.LVL5:
  88:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     //__HAL_UART_ENABLE_IT(&uart_debug, UART_IT_IDLE);
  89:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     __HAL_UART_ENABLE_IT(&uart_debug, UART_IT_RXNE);
 164              		.loc 1 89 5 view .LVU40
 165 0036 2168     		ldr	r1, [r4]
  90:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     
  91:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     //create the receive buffer and receive sync
  92:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     extern UINT32 osSemCreate (UINT16 usCount, UINT16 usMaxCount, UINT32 *puwSemHandle);
  93:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     osSemCreate(0,CN_RCV_RING_BUFLEN,(UINT32 *)&s_uartdebug_rcv_sync);
 166              		.loc 1 93 5 is_stmt 0 view .LVU41
 167 0038 0D4A     		ldr	r2, .L18+12
  89:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     
 168              		.loc 1 89 5 view .LVU42
 169 003a 0B68     		ldr	r3, [r1]
 170 003c 43F02003 		orr	r3, r3, #32
 171 0040 0B60     		str	r3, [r1]
  92:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     osSemCreate(0,CN_RCV_RING_BUFLEN,(UINT32 *)&s_uartdebug_rcv_sync);
 172              		.loc 1 92 5 is_stmt 1 view .LVU43
 173              		.loc 1 93 5 view .LVU44
 174 0042 2846     		mov	r0, r5
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 6


 175 0044 8021     		movs	r1, #128
 176 0046 FFF7FEFF 		bl	osSemCreate
 177              	.LVL6:
  94:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     ring_buffer_init(&s_uartdebug_rcv_ring,s_uartdebug_rcv_ringmem,CN_RCV_RING_BUFLEN,0,0);
 178              		.loc 1 94 5 view .LVU45
 179 004a 2B46     		mov	r3, r5
 180 004c 8022     		movs	r2, #128
 181 004e 0949     		ldr	r1, .L18+16
 182 0050 0948     		ldr	r0, .L18+20
 183 0052 0095     		str	r5, [sp]
 184 0054 FFF7FEFF 		bl	ring_buffer_init
 185              	.LVL7:
  95:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     s_uart_init = true;
 186              		.loc 1 95 5 view .LVU46
 187              		.loc 1 95 17 is_stmt 0 view .LVU47
 188 0058 084B     		ldr	r3, .L18+24
 189 005a 0122     		movs	r2, #1
 190 005c 1A60     		str	r2, [r3]
 191              	.L15:
  96:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  97:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
 192              		.loc 1 97 1 view .LVU48
 193 005e 03B0     		add	sp, sp, #12
 194              	.LCFI5:
 195              		.cfi_def_cfa_offset 12
 196              		@ sp needed
 197 0060 30BD     		pop	{r4, r5, pc}
 198              	.L19:
 199 0062 00BF     		.align	2
 200              	.L18:
 201 0064 00000000 		.word	uart_debug
 202 0068 00800040 		.word	1073774592
 203 006c 00000000 		.word	uart_debug_irq
 204 0070 00000000 		.word	.LANCHOR1
 205 0074 00000000 		.word	.LANCHOR2
 206 0078 00000000 		.word	.LANCHOR0
 207 007c 00000000 		.word	.LANCHOR3
 208              		.cfi_endproc
 209              	.LFE134:
 211              		.section	.text._write,"ax",%progbits
 212              		.align	1
 213              		.p2align 2,,3
 214              		.global	_write
 215              		.syntax unified
 216              		.thumb
 217              		.thumb_func
 218              		.fpu fpv4-sp-d16
 220              	_write:
 221              	.LVL8:
 222              	.LFB135:
  98:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
  99:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
 100:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** /* define fputc */
 101:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #if defined ( __CC_ARM ) || defined ( __ICCARM__ )  /* KEIL and IAR: printf will call fputc to prin
 102:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** int fputc(int ch, FILE *f)
 103:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** {
 104:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     HAL_UART_Transmit(&uart_debug, (uint8_t *)&ch, 1, 0xFFFF);
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 7


 105:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     return ch;
 106:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
 107:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** int fgetc(FILE *f){
 108:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     int ret = 0;
 109:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     unsigned char  value;
 110:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     do
 111:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
 112:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         if(LOS_OK == LOS_SemPend(s_uartdebug_rcv_sync,LOS_WAIT_FOREVER))
 113:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         {
 114:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****             ret = ring_buffer_read(&s_uartdebug_rcv_ring,&value,1);
 115:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         }
 116:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }while(ret <=0);
 117:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     ret = value;
 118:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     return ret;
 119:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
 120:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** #elif defined ( __GNUC__ )  /* GCC: printf will call _write to print */
 121:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** 
 122:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** __attribute__((used)) int _write(int fd, char *ptr, int len)
 123:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** {
 223              		.loc 1 123 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 124:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     if(s_uart_init)
 227              		.loc 1 124 5 view .LVU50
 228              		.loc 1 124 8 is_stmt 0 view .LVU51
 229 0000 074B     		ldr	r3, .L27
 230              		.loc 1 124 7 view .LVU52
 231 0002 1B68     		ldr	r3, [r3]
 123:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     if(s_uart_init)
 232              		.loc 1 123 1 view .LVU53
 233 0004 10B5     		push	{r4, lr}
 234              	.LCFI6:
 235              		.cfi_def_cfa_offset 8
 236              		.cfi_offset 4, -8
 237              		.cfi_offset 14, -4
 123:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     if(s_uart_init)
 238              		.loc 1 123 1 view .LVU54
 239 0006 1446     		mov	r4, r2
 240              		.loc 1 124 7 view .LVU55
 241 0008 0BB9     		cbnz	r3, .L26
 125:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         HAL_UART_Transmit(&uart_debug, (uint8_t *)ptr, len, 0xFFFF);
 127:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
 128:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     return len;
 242              		.loc 1 128 5 is_stmt 1 view .LVU56
 129:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
 243              		.loc 1 129 1 is_stmt 0 view .LVU57
 244 000a 2046     		mov	r0, r4
 245              	.LVL9:
 246              		.loc 1 129 1 view .LVU58
 247 000c 10BD     		pop	{r4, pc}
 248              	.LVL10:
 249              	.L26:
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
 250              		.loc 1 126 9 is_stmt 1 view .LVU59
 251 000e 4FF6FF73 		movw	r3, #65535
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 8


 252 0012 92B2     		uxth	r2, r2
 253              	.LVL11:
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
 254              		.loc 1 126 9 is_stmt 0 view .LVU60
 255 0014 0348     		ldr	r0, .L27+4
 256              	.LVL12:
 126:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }
 257              		.loc 1 126 9 view .LVU61
 258 0016 FFF7FEFF 		bl	HAL_UART_Transmit
 259              	.LVL13:
 128:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
 260              		.loc 1 128 5 is_stmt 1 view .LVU62
 261              		.loc 1 129 1 is_stmt 0 view .LVU63
 262 001a 2046     		mov	r0, r4
 263 001c 10BD     		pop	{r4, pc}
 264              	.LVL14:
 265              	.L28:
 266              		.loc 1 129 1 view .LVU64
 267 001e 00BF     		.align	2
 268              	.L27:
 269 0020 00000000 		.word	.LANCHOR3
 270 0024 00000000 		.word	uart_debug
 271              		.cfi_endproc
 272              	.LFE135:
 274              		.section	.text._read,"ax",%progbits
 275              		.align	1
 276              		.p2align 2,,3
 277              		.global	_read
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu fpv4-sp-d16
 283              	_read:
 284              	.LVL15:
 285              	.LFB136:
 130:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** __attribute__((used)) int _read(int fd, char *ptr, int len)
 131:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** {
 286              		.loc 1 131 1 is_stmt 1 view -0
 287              		.cfi_startproc
 288              		@ args = 0, pretend = 0, frame = 8
 289              		@ frame_needed = 0, uses_anonymous_args = 0
 132:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     int ret = 0;
 290              		.loc 1 132 5 view .LVU66
 131:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     int ret = 0;
 291              		.loc 1 131 1 is_stmt 0 view .LVU67
 292 0000 70B5     		push	{r4, r5, r6, lr}
 293              	.LCFI7:
 294              		.cfi_def_cfa_offset 16
 295              		.cfi_offset 4, -16
 296              		.cfi_offset 5, -12
 297              		.cfi_offset 6, -8
 298              		.cfi_offset 14, -4
 299 0002 0C4C     		ldr	r4, .L35
 133:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     unsigned char  value;
 134:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     do
 135:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
 136:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         if(LOS_OK == LOS_SemPend(s_uartdebug_rcv_sync,LOS_WAIT_FOREVER))
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 9


 137:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         {
 138:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****             ret = ring_buffer_read(&s_uartdebug_rcv_ring,&value,1);
 300              		.loc 1 138 19 view .LVU68
 301 0004 0C4E     		ldr	r6, .L35+4
 131:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     int ret = 0;
 302              		.loc 1 131 1 view .LVU69
 303 0006 82B0     		sub	sp, sp, #8
 304              	.LCFI8:
 305              		.cfi_def_cfa_offset 24
 131:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     int ret = 0;
 306              		.loc 1 131 1 view .LVU70
 307 0008 0D46     		mov	r5, r1
 308              	.LVL16:
 309              	.L30:
 133:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     unsigned char  value;
 310              		.loc 1 133 5 is_stmt 1 view .LVU71
 134:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     {
 311              		.loc 1 134 5 view .LVU72
 136:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         {
 312              		.loc 1 136 9 view .LVU73
 136:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         {
 313              		.loc 1 136 22 is_stmt 0 view .LVU74
 314 000a 2068     		ldr	r0, [r4]
 315 000c 4FF0FF31 		mov	r1, #-1
 316 0010 FFF7FEFF 		bl	LOS_SemPend
 317              	.LVL17:
 136:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         {
 318              		.loc 1 136 11 view .LVU75
 319 0014 0028     		cmp	r0, #0
 320 0016 F8D1     		bne	.L30
 321              		.loc 1 138 13 is_stmt 1 view .LVU76
 322              		.loc 1 138 19 is_stmt 0 view .LVU77
 323 0018 0122     		movs	r2, #1
 324 001a 0DF10701 		add	r1, sp, #7
 325 001e 3046     		mov	r0, r6
 326 0020 FFF7FEFF 		bl	ring_buffer_read
 327              	.LVL18:
 139:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****         }
 140:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     }while(ret <=0);
 328              		.loc 1 140 11 is_stmt 1 view .LVU78
 329              		.loc 1 140 5 is_stmt 0 view .LVU79
 330 0024 0028     		cmp	r0, #0
 331 0026 F0DD     		ble	.L30
 141:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     *(unsigned char *)ptr = value;
 332              		.loc 1 141 5 is_stmt 1 view .LVU80
 333              		.loc 1 141 27 is_stmt 0 view .LVU81
 334 0028 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 335 002c 2B70     		strb	r3, [r5]
 142:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c ****     return 1;
 336              		.loc 1 142 5 is_stmt 1 view .LVU82
 143:D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/targets/NUCLEO-L496ZG/Src\uart_debug.c **** }
 337              		.loc 1 143 1 is_stmt 0 view .LVU83
 338 002e 0120     		movs	r0, #1
 339              	.LVL19:
 340              		.loc 1 143 1 view .LVU84
 341 0030 02B0     		add	sp, sp, #8
 342              	.LCFI9:
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 10


 343              		.cfi_def_cfa_offset 16
 344              		@ sp needed
 345 0032 70BD     		pop	{r4, r5, r6, pc}
 346              	.LVL20:
 347              	.L36:
 348              		.loc 1 143 1 view .LVU85
 349              		.align	2
 350              	.L35:
 351 0034 00000000 		.word	.LANCHOR1
 352 0038 00000000 		.word	.LANCHOR0
 353              		.cfi_endproc
 354              	.LFE136:
 356              		.comm	uart_debug,128,4
 357              		.section	.bss.s_uart_init,"aw",%nobits
 358              		.align	2
 359              		.set	.LANCHOR3,. + 0
 362              	s_uart_init:
 363 0000 00000000 		.space	4
 364              		.section	.bss.s_uartdebug_rcv_ring,"aw",%nobits
 365              		.align	2
 366              		.set	.LANCHOR0,. + 0
 369              	s_uartdebug_rcv_ring:
 370 0000 00000000 		.space	16
 370      00000000 
 370      00000000 
 370      00000000 
 371              		.section	.bss.s_uartdebug_rcv_ringmem,"aw",%nobits
 372              		.align	2
 373              		.set	.LANCHOR2,. + 0
 376              	s_uartdebug_rcv_ringmem:
 377 0000 00000000 		.space	128
 377      00000000 
 377      00000000 
 377      00000000 
 377      00000000 
 378              		.section	.bss.s_uartdebug_rcv_sync,"aw",%nobits
 379              		.align	2
 380              		.set	.LANCHOR1,. + 0
 383              	s_uartdebug_rcv_sync:
 384 0000 00000000 		.space	4
 385              		.text
 386              	.Letext0:
 387              		.file 2 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\machine\
 388              		.file 3 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\_st
 389              		.file 4 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/arch
 390              		.file 5 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32
 391              		.file 6 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l496xx.
 392              		.file 7 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
 393              		.file 8 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 394              		.file 9 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 395              		.file 10 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.
 396              		.file 11 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h
 397              		.file 12 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 398              		.file 13 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\lib\\gcc\\arm-none-eabi\\9.3.1\
 399              		.file 14 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\_t
 400              		.file 15 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\re
 401              		.file 16 "t:\\msys\\3rd\\gcc-arm-none-eabi-9-2020-q2-update-win32\\arm-none-eabi\\include\\sys\\lo
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 11


 402              		.file 17 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/link_misc/lin
 403              		.file 18 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/inc
 404              		.file 19 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/inc
 405              		.file 20 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/inc
 406              		.file 21 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/arc
 407              		.file 22 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/inc
 408              		.file 23 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/inc
 409              		.file 24 "D:/fchai/work/i-cube/I-CUBE-HUAWEI/Middlewares/Third_Party/Huawei/iot_link/os/liteos/inc
ARM GAS  T:\msys\tmp\ccXyPIJk.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 uart_debug.c
T:\msys\tmp\ccXyPIJk.s:18     .text.uart_debug_irq:00000000 $t
T:\msys\tmp\ccXyPIJk.s:26     .text.uart_debug_irq:00000000 uart_debug_irq
T:\msys\tmp\ccXyPIJk.s:87     .text.uart_debug_irq:0000003c $d
                            *COM*:00000080 uart_debug
T:\msys\tmp\ccXyPIJk.s:94     .text.shell_uart_init:00000000 $t
T:\msys\tmp\ccXyPIJk.s:102    .text.shell_uart_init:00000000 shell_uart_init
T:\msys\tmp\ccXyPIJk.s:201    .text.shell_uart_init:00000064 $d
T:\msys\tmp\ccXyPIJk.s:212    .text._write:00000000 $t
T:\msys\tmp\ccXyPIJk.s:220    .text._write:00000000 _write
T:\msys\tmp\ccXyPIJk.s:269    .text._write:00000020 $d
T:\msys\tmp\ccXyPIJk.s:275    .text._read:00000000 $t
T:\msys\tmp\ccXyPIJk.s:283    .text._read:00000000 _read
T:\msys\tmp\ccXyPIJk.s:351    .text._read:00000034 $d
T:\msys\tmp\ccXyPIJk.s:358    .bss.s_uart_init:00000000 $d
T:\msys\tmp\ccXyPIJk.s:362    .bss.s_uart_init:00000000 s_uart_init
T:\msys\tmp\ccXyPIJk.s:365    .bss.s_uartdebug_rcv_ring:00000000 $d
T:\msys\tmp\ccXyPIJk.s:369    .bss.s_uartdebug_rcv_ring:00000000 s_uartdebug_rcv_ring
T:\msys\tmp\ccXyPIJk.s:372    .bss.s_uartdebug_rcv_ringmem:00000000 $d
T:\msys\tmp\ccXyPIJk.s:376    .bss.s_uartdebug_rcv_ringmem:00000000 s_uartdebug_rcv_ringmem
T:\msys\tmp\ccXyPIJk.s:379    .bss.s_uartdebug_rcv_sync:00000000 $d
T:\msys\tmp\ccXyPIJk.s:383    .bss.s_uartdebug_rcv_sync:00000000 s_uartdebug_rcv_sync

UNDEFINED SYMBOLS
ring_buffer_write
LOS_SemPost
HAL_UART_Init
LOS_HwiCreate
osSemCreate
ring_buffer_init
HAL_UART_Transmit
LOS_SemPend
ring_buffer_read
